<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fried Eggs - Token Access</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://connect.manifoldxyz.dev/latest/connect.umd.min.js"></script>
    <link rel="stylesheet" href="https://connect.manifoldxyz.dev/latest/connect.css">
    <link rel="stylesheet" href="https://connect.manifoldxyz.dev/3.1.0/connect.manifold-light.css" />
</head>
<body id="indexPage">
<body>
    <body class="index">
    <div id="content">
        <a href="home.html"><img id="easterEgg" onclick="onConnectWallet();" src="assets/EasterEgg.png" alt="Easter Egg"></a>
        <div 
    id="rabbitHoleButton" 
    data-widget="m-connect"
    data-grant-type="signature"
    data-client-id="d59e0e3a39c08033a9d8d5278002a9871291a2a6b420e917809609014b7c6f4f"  
    data-app-name="Fried Eggs"  
    data-network="1"
    style="display: none;"
  ></div>
<script>
  // Function to handle wallet connection
  function onConnectWallet() {
    // Show the widget div
    document.getElementById('connectWidget').style.display = 'block';

    // Manually initialize the widget
    const widgetElement = document.querySelector('[data-widget="m-connect"]');
    if (widgetElement) {
      window['m-connect'].init(widgetElement);
    }
  }

  // Function to handle Easter Egg click
  function onEasterEggClick() {
    // Check if the wallet is connected
    if (window['m-connect'] && window['m-connect'].isConnected()) {
      // Redirect to homepage or perform desired action
      window.location.href = 'home.html'; // Change this to your homepage URL
    } else {
      alert('Please connect your wallet first.');
    }
  }

  // Add click event listener for the Easter Egg
  document.getElementById('easterEgg').addEventListener('click', onEasterEggClick);
</script>
    <script src="script.js"></script>
</body>
</html>
